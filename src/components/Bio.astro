---
import { Image } from "astro:assets";

// import Icon from "astro-icon";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
// import me from "../images/me.png";
import profileImage from "../images/thelastone.svg";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section id="aboutme" class="grid gap-4 md:grid-cols-2 md:px-4">
  <!-- <h3
    id="bio-title"
    class="title w-full py-4 font-clash text-4xl font-semibold"
  >
    ¿Quien soy?
  </h3> -->
  <!-- <div class="grid md:grid-cols-2"> -->

  <!-- <h3 class="block text-left font-clash text-2xl font-bold md:hidden">
      {t("bio.gretting")}
    </h3> -->
  <article>
    <p class="whitespace-pre-wrap text-center text-xxs md:text-left md:text-lg">
      {t("bio.p1")}
    </p>
  </article>

  <div
    class="bio-img grid aspect-video w-full place-content-center [clip-path:polygon(0%_0%,100%_0%,100%_0%,0%_0%)] md:aspect-auto"
  >
    <Image
      src={profileImage}
      alt=""
      class="relative aspect-video h-full bg-pure-white object-cover object-m-position md:aspect-auto"
    />
  </div>

  <!-- <div class="grid gap-2"> -->
  <!-- <h3
      id="bio-title"
      class="w-full px-2 py-4 font-clash text-4xl font-semibold"
      id="tech-title"
    >
      ¿Que uso?
    </h3> -->
  <!-- <div class="bio-standard-anim">
      <p class="inline-block">
        <span>lorem</span>lorem<span>lorem</span>lorem<span>lorem</span>
      </p>
      <p class="inline-block">
        <span>lorem</span>lorem<span>lorem</span>lorem
      </p>
      <p class="inline-block">
        <span>lorem</span>lorem<span>lorem</span>lorem<span>lorem</span>
      </p>
      <p class="inline-block">
        <span>lorem</span>lorem<span>lorem</span>
      </p>
    </div> -->
  <!-- </div> -->
</section>
<style></style>
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import SplitType from "split-type";

  gsap.registerPlugin(ScrollTrigger);

  // const title = new SplitType("#bio-title");
  // const techTitle = new SplitType("#tech-title");

  gsap.to(".bio-img", {
    scrollTrigger: {
      trigger: ".bio-img",
      toggleActions: "play none none reverse",
      start: "center bottom",
    },
    // opacity: 0,
    clipPath: "polygon(0 0, 100% 5%, 100% 100%, 0 95%)",
    ease: "power3.inOut",
    delay: 0.1,
    duration: 2,
  });

  // const tl = gsap.timeline({
  //   scrollTrigger: {
  //     trigger: ".bio-standard-anim",
  //     toggleActions: "play none none none",
  //     start: "center bottom",
  //   },
  // });

  gsap.from(".char", {
    scrollTrigger: {
      trigger: ".bio-img",
      toggleActions: "play none none reverse",
      start: "center bottom",
    },
    opacity: 0,
    y: 20,
    stagger: 0.03,
    ease: "sine.inOut",
    delay: 0.1,
    duration: 0.3,
  });

  // tl.from(".bio-standard-anim", {
  //   rotation: 0.01,
  //   y: 50,
  //   opacity: 0,
  //   ease: "sine.inOut",
  //   stagger: 0.3,
  //   delay: 1,
  // });

  // gsap.from(".title", {
  //   scrollTrigger: {
  //     trigger: ".title",
  //     start: "center bottom",
  //   },
  //   autoAlpha: 0,
  //   // scale: 0.5,
  //   // transformOrigin: "50% 50%",
  //   y: 300,
  //   ease: "sine.inOut",
  // });

  // let sections = gsap.utils.toArray(".scroll-section");

  // sections.forEach((section) => {
  //   gsap.to(".scroll-section", {
  //     scrollTrigger: {
  //       trigger: ".scroll-section",
  //       start: "top bottom",
  //       end: "bottom bottom",
  //       scrub: true,
  //     },
  //     yPercent: -100,
  //     ease: "none",
  //   });
  // });
</script>
